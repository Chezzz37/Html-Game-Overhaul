<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Emoji Slot Arcade</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background: #f5f5f5;
    transition: background 0.3s;
  }
  .slots { display: flex; gap: 20px; margin: 20px; }
  .slot {
    font-size: 80px;
    background: white;
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    width: 100px;
    text-align: center;
  }
  button, select {
    padding: 10px 16px;
    margin: 6px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #4f46e5;
    color: white;
  }
  .stats { margin: 6px; }
  #confetti { position: fixed; top: 10px; font-size: 30px; }
</style>
</head>
<body id="page">

<h1>Emoji Slot Arcade ðŸŽ°</h1>

<div>
Theme Shop:
<button onclick="buyTheme('#fde68a',50)">Gold (50 coins)</button>
<button onclick="buyTheme('#bfdbfe',50)">Blue (50 coins)</button>
<button onclick="buyTheme('#fecdd3',50)">Pink (50 coins)</button>
<button onclick="buyTheme('#bbf7d0',50)">Green (50 coins)</button>
</div>

<div class="slots">
  <div class="slot" id="slot1">ðŸ˜€</div>
  <div class="slot" id="slot2">ðŸ˜€</div>
  <div class="slot" id="slot3">ðŸ˜€</div>
</div>

<button onclick="spin()">Spin (1 coin)</button>
<button onclick="resetGame()">Reset Game</button>

<div id="result"></div>
<div class="stats" id="score"></div>
<div class="stats" id="coins"></div>
<div class="stats" id="level"></div>
<div class="stats" id="streak"></div>
<div class="stats" id="achievements"></div>
<div id="confetti"></div>

<script>
const baseEmojis = ["ðŸ˜€","ðŸ˜","ðŸ˜‚","ðŸ¤£","ðŸ˜ƒ","ðŸ˜„","ðŸ˜…","ðŸ˜†","ðŸ˜‰","ðŸ˜Š","ðŸ˜","ðŸ¤©","ðŸ¤ ","ðŸ¥³", "ðŸ¥²", ];
const unlockPack = ["ðŸ‘»","ðŸ’€","ðŸ¤–","ðŸ‘½","ðŸŽƒ","ðŸ˜ˆ","ðŸ‘‘","ðŸ’Ž", "ðŸ’™", "ðŸ”¥"];
const goldenEmoji = "ðŸŒŸ";

let emojis = [...baseEmojis];
let score = 0;
let coins = 20;
let level = 1;
let streak = 0;
let achievements = [];
let ownedThemes = [];

function save() {
  localStorage.setItem('emojiArcade', JSON.stringify({score, coins, level, streak, achievements, emojis, theme: document.body.style.background, ownedThemes}));
}

function load() {
  const data = JSON.parse(localStorage.getItem('emojiArcade'));
  if (data) {
    score = data.score;
    coins = data.coins;
    level = data.level;
    streak = data.streak;
    achievements = data.achievements;
    emojis = data.emojis;
    ownedThemes = data.ownedThemes || [];
    if (data.theme) document.body.style.background = data.theme;
  }
}

function confetti() {
  const el = document.getElementById('confetti');
  el.textContent = 'ðŸŽ‰ðŸŽ‰ðŸŽ‰';
  setTimeout(()=> el.textContent='',800);
}

function buyTheme(color, cost) {
  if (coins < cost) return alert('Not enough coins');
  coins -= cost;
  ownedThemes.push(color);
  document.body.style.background = color;
  save();
  updateUI();
}

function updateUI() {
  scoreEl.textContent = 'Score: ' + score;
  coinsEl.textContent = 'Coins: ' + coins;
  levelEl.textContent = 'Level: ' + level;
  streakEl.textContent = 'Streak: ' + streak;
  achievementsEl.textContent = 'Achievements: ' + achievements.join(', ');
}

function randomEmoji() {
  if (Math.random() < 0.03) return goldenEmoji;
  return emojis[Math.floor(Math.random() * emojis.length)];
}

function animateSlots(callback) {
  let spins = 10;
  const interval = setInterval(() => {
    slot1.textContent = randomEmoji();
    slot2.textContent = randomEmoji();
    slot3.textContent = randomEmoji();
    spins--;
    if (spins <= 0) {
      clearInterval(interval);
      callback();
    }
  }, 80);
}

function spin() {
  if (coins <= 0) return alert('Out of coins');
  coins--;

  animateSlots(() => {
    const s1 = randomEmoji();
    const s2 = randomEmoji();
    const s3 = randomEmoji();

    slot1.textContent = s1;
    slot2.textContent = s2;
    slot3.textContent = s3;

    let resultText = '';

    if (s1 === goldenEmoji && s2 === goldenEmoji && s3 === goldenEmoji) {
      score += 100;
      coins += 20;
      confetti();
      resultText = 'GOLDEN JACKPOT!!!';
      if (!achievements.includes('Golden Winner')) achievements.push('Golden Winner');
    }
    else if (s1 === s2 && s2 === s3) {
      score += 20 + level;
      coins += 5;
      streak++;
      confetti();
      resultText = 'JACKPOT!';
    } else if (s1 === s2 || s2 === s3 || s1 === s3) {
      score += 6 + level;
      coins += 1;
      streak++;
      resultText = 'Match!';
    } else {
      streak = 0;
      resultText = 'Try again';
    }

    if (score >= level * 60) {
      level++;
      coins += 10;
      resultText += ' LEVEL UP!';
      if (level === 3) emojis = [...emojis, ...unlockPack];
      if (!achievements.includes('Level Up')) achievements.push('Level Up');
    }

    document.getElementById('result').textContent = resultText;
    updateUI();
    save();
  });
}

function resetGame() {
  score = 0; coins = 20; level = 1; streak = 0; achievements = [];
  emojis = [...baseEmojis]; ownedThemes = [];
  save(); updateUI();
}

load();
updateUI();
</script>

</body>
</html>
