<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emoji Slot Arcade</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background: #f5f5f5;
    transition: background 0.3s;
    overflow-x: hidden;
  }
  #gamePage {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  .slots {
    display: flex;
    gap: 20px;
    margin: 20px;
  }
  .slot {
    font-size: 80px;
    background: white;
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    width: 100px;
    text-align: center;
  }
  button, select {
    padding: 10px 16px;
    margin: 6px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #4f46e5;
    color: white;
  }
  .stats {
    margin: 6px;
  }
  #confetti {
    position: fixed;
    top: 10px;
    font-size: 30px;
  }
  #coinOverlay {
    position: fixed;
    top: 6px;
    right: 6px;
    background: rgba(79, 70, 229, 0.85);
    color: white;
    font-weight: bold;
    font-size: 1.1em;
    padding: 8px 14px;
    border-radius: 12px;
    user-select: none;
    z-index: 1000;
    display: none;
  }
  #homePage {
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: #4f46e5;
    color: white;
  }
  #homePage h1 {
    font-size: 3em;
    margin-bottom: 30px;
  }
  #homePage button {
    font-size: 1.3em;
    padding: 15px 30px;
    border-radius: 20px;
    background: white;
    color: #4f46e5;
    font-weight: bold;
    border: none;
    cursor: pointer;
  }
  #themeShop {
    margin: 15px 0;
  }
</style>
</head>
<body id="page">

<div id="homePage">
  <h1>Emoji Slot Arcade ğŸ°</h1>
  <button onclick="startGame()">Play</button>
</div>

<div id="coinOverlay">Coins: 0</div>

<div id="gamePage" style="display:none;">
  <div id="themeShop">
    Theme Shop:<br />
    <button onclick="buyTheme('#fde68a',50)">Gold (50 coins)</button>
    <button onclick="buyTheme('#bfdbfe',50)">Blue (50 coins)</button>
    <button onclick="buyTheme('#fecdd3',50)">Pink (50 coins)</button>
    <button onclick="buyTheme('#bbf7d0',50)">Green (50 coins)</button><br />
    Animal Pack (ğŸ•ğŸ¯ğŸ¢ğŸ€ğŸˆğŸ†) - 50 coins: 
    <button onclick="buyEmojiPack(animalPack,50)">Buy</button><br />
    Car Pack (ğŸš—ğŸï¸ğŸš“ğŸš•ğŸš’ğŸš›) - 70 coins: 
    <button onclick="buyEmojiPack(carPack,70)">Buy</button><br />
    Aquatic Pack (ğŸ™ğŸ ğŸ¦ˆğŸ³ğŸ¦€ğŸ¬) - 90 coins: 
    <button onclick="buyEmojiPack(aquaticPack,90)">Buy</button><br />
    Mutation Pack (ğŸ§œğŸ»â€â™‚ï¸ğŸ§šğŸ»â€â™‚ï¸ğŸ§â€â™‚ï¸ğŸ§Ÿâ€â™‚ï¸ğŸ§ğŸ»â€â™‚ï¸ğŸ§›ğŸ»â€â™‚ï¸) - 500 coins: 
    <button onclick="buyEmojiPack(mutationPack,500)">Buy</button><br />
  </div>

  <div class="slots">
    <div class="slot" id="slot1">ğŸ˜€</div>
    <div class="slot" id="slot2">ğŸ˜€</div>
    <div class="slot" id="slot3">ğŸ˜€</div>
  </div>

  <button onclick="spin()">Spin (1 coin)</button>
  <button onclick="resetGame()">Reset Game</button>

  <div id="result"></div>
  <div class="stats" id="score"></div>
  <div class="stats" id="coins"></div>
  <div class="stats" id="level"></div>
  <div class="stats" id="streak"></div>
  <div class="stats" id="achievements"></div>
  <div id="confetti"></div>
</div>

<script>
const baseEmojis = ["ğŸ˜€","ğŸ˜","ğŸ˜‚","ğŸ¤£","ğŸ˜ƒ","ğŸ˜„","ğŸ˜…","ğŸ˜†","ğŸ˜‰","ğŸ˜Š","ğŸ˜","ğŸ¤©","ğŸ¤ ","ğŸ¥³", "ğŸ¥²"];
const unlockPack = ["ğŸ‘»","ğŸ’€","ğŸ¤–","ğŸ‘½","ğŸƒ","ğŸ˜ˆ","ğŸ‘‘","ğŸ’", "ğŸ’™", "ğŸ”¥"];
const goldenEmoji = "ğŸŒŸ";

const animalPack = ["ğŸ•","ğŸ¯","ğŸ¢","ğŸ€","ğŸˆ","ğŸ†"];
const carPack = ["ğŸš—","ğŸï¸","ğŸš“","ğŸš•","ğŸš’","ğŸš›"];
const aquaticPack = ["ğŸ™","ğŸ ","ğŸ¦ˆ","ğŸ³","ğŸ¦€","ğŸ¬"];
const mutationPack = ["ğŸ§œğŸ»â€â™‚ï¸","ğŸ§šğŸ»â€â™‚ï¸","ğŸ§â€â™‚ï¸","ğŸ§Ÿâ€â™‚ï¸","ğŸ§ğŸ»â€â™‚ï¸","ğŸ§›ğŸ»â€â™‚ï¸"];

let emojis = [...baseEmojis];
let score = 0;
let coins = 20;
let level = 1;
let streak = 0;
let achievements = [];
let ownedThemes = [];
let ownedPacks = [];

const scoreEl = document.getElementById('score');
const coinsEl = document.getElementById('coins');
const levelEl = document.getElementById('level');
const streakEl = document.getElementById('streak');
const achievementsEl = document.getElementById('achievements');
const coinOverlay = document.getElementById('coinOverlay');

function save() {
  localStorage.setItem('emojiArcade', JSON.stringify({
    score, coins, level, streak, achievements, emojis, theme: document.body.style.background, ownedThemes, ownedPacks
  }));
}

function load() {
  const data = JSON.parse(localStorage.getItem('emojiArcade'));
  if (data) {
    score = data.score;
    coins = data.coins;
    level = data.level;
    streak = data.streak;
    achievements = data.achievements;
    emojis = data.emojis;
    ownedThemes = data.ownedThemes || [];
    ownedPacks = data.ownedPacks || [];
    if (data.theme) document.body.style.background = data.theme;
  }
}

function confetti() {
  const el = document.getElementById('confetti');
  el.textContent = 'ğŸ‰ğŸ‰ğŸ‰';
  setTimeout(()=> el.textContent='',800);
}

function buyTheme(color, cost) {
  if (coins < cost) return alert('Not enough coins');
  coins -= cost;
  if (!ownedThemes.includes(color)) ownedThemes.push(color);
  document.body.style.background = color;
  save();
  updateUI();
}

function buyEmojiPack(pack, cost) {
  if (coins < cost) return alert('Not enough coins');
  // Add emojis from pack if not already owned
  let alreadyOwned = pack.every(e => emojis.includes(e));
  if (alreadyOwned) {
    alert('You already own this pack.');
    return;
  }
  coins -= cost;
  emojis = [...new Set([...emojis, ...pack])];
  ownedPacks.push(pack.join(''));
  save();
  updateUI();
  alert('Pack purchased! Happy spinning!');
}

function updateUI() {
  scoreEl.textContent = 'Score: ' + score;
  coinsEl.textContent = 'Coins: ' + coins;
  levelEl.textContent = 'Level: ' + level;
  streakEl.textContent = 'Streak: ' + streak;
  achievementsEl.textContent = 'Achievements: ' + (achievements.length ? achievements.join(', ') : 'None');
  coinOverlay.textContent = 'Coins: ' + coins;
}

function randomEmoji() {
  if (Math.random() < 0.03) return goldenEmoji;
  return emojis[Math.floor(Math.random() * emojis.length)];
}

function animateSlots(callback) {
  let spins = 10;
  const interval = setInterval(() => {
    slot1.textContent = randomEmoji();
    slot2.textContent = randomEmoji();
    slot3.textContent = randomEmoji();
    spins--;
    if (spins <= 0) {
      clearInterval(interval);
      callback();
    }
  }, 80);
}

function spin() {
  if (coins <= 0) return alert('Out of coins');
  coins--;

  animateSlots(() => {
    const s1 = randomEmoji();
    const s2 = randomEmoji();
    const s3 = randomEmoji();

    slot1.textContent = s1;
    slot2.textContent = s2;
    slot3.textContent = s3;

    let resultText = '';

    if (s1 === goldenEmoji && s2 === goldenEmoji && s3 === goldenEmoji) {
      score += 100;
      coins += 20;
      confetti();
      resultText = 'GOLDEN JACKPOT!!!';
      if (!achievements.includes('Golden Winner')) achievements.push('Golden Winner');
    }
    else if (s1 === s2 && s2 === s3) {
      score += 20 + level;
      coins += 5;
      streak++;
      confetti();
      resultText = 'JACKPOT!';
    } else if (s1 === s2 || s2 === s3 || s1 === s3) {
      score += 6 + level;
      coins += 1;
      streak++;
      resultText = 'Match!';
    } else {
      streak = 0;
      resultText = 'Try again';
    }

    if (score >= level * 60) {
      level++;
      coins += 10;
      resultText += ' LEVEL UP!';
      if (level === 3) emojis = [...emojis, ...unlockPack];
      if (!achievements.includes('Level Up')) achievements.push('Level Up');
    }

    document.getElementById('result').textContent = resultText;
    updateUI();
    save();
  });
}

function resetGame() {
  score = 0; coins = 20; level = 1; streak = 0; achievements = [];
  emojis = [...baseEmojis];
  ownedThemes = [];
  ownedPacks = [];
  document.body.style.background = '#f5f5f5';
  save();
  updateUI();
}

function startGame() {
  document.getElementById('homePage').style.display = 'none';
  document.getElementById('gamePage').style.display = 'flex';
  coinOverlay.style.display = 'block';
  load();
  updateUI();
}

load();

</script>

</body>
</html>
